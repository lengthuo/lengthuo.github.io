<!doctype html>
<html class="no-js" lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>
    
  require.js的用法 - lengthuo
  
  </title>
 <meta name="description" content="路漫漫其修远兮吾将上下而求索">
 <link href="atom.xml" rel="alternate" title="lengthuo" type="application/atom+xml">
    <link rel="stylesheet" href="asset/css/foundation.min.css" />
    <link rel="stylesheet" href="asset/css/docs.css" />

    <script src="asset/js/vendor/modernizr.js"></script>
    <script src="asset/js/vendor/jquery.js"></script>
    <script src="asset/highlightjs/highlight.pack.js"></script>
    <link href="asset/highlightjs/styles/github.css" media="screen, projection" rel="stylesheet" type="text/css">
    <script>hljs.initHighlightingOnLoad();</script>
    
  </head>
  <body class="antialiased hide-extras">
    
    <div class="marketing off-canvas-wrap" data-offcanvas>
      <div class="inner-wrap">


<nav class="top-bar docs-bar hide-for-small" data-topbar>

<div id="header">
    <h1><a href="index.html">lengthuo</a></h1>
</div>

</nav>
        <nav class="tab-bar show-for-small">
  <a href="javascript:void(0)" class="left-off-canvas-toggle menu-icon">
    <span> &nbsp; lengthuo</span>
  </a>
</nav>

<aside class="left-off-canvas-menu">
      <ul class="off-canvas-list">
      <li><a href="index.html">Home</a></li>
      
        <li class="divider"></li>
        <li><label>php</label></li>

          
            <li><a title="配置文件" href="15138234730339.html">配置文件</a></li>
          
            <li><a title="php 与 nginx" href="15128085452995.html">php 与 nginx</a></li>
          
            <li><a title="php7类型声明" href="15106716576449.html">php7类型声明</a></li>
          
            <li><a title="php7-use批量声明" href="15106714388264.html">php7-use批量声明</a></li>
          
            <li><a title="php7-新操作符<=>" href="15106713271560.html">php7-新操作符<=></a></li>
          
            <li><a title="php7-??" href="15106708822268.html">php7-??</a></li>
          
            <li><a title="php7-统一变量语法" href="15106705768192.html">php7-统一变量语法</a></li>
          
            <li><a title="php7-throwable" href="15106686521637.html">php7-throwable</a></li>
          
            <li><a title="练习题" href="15100534066184.html">练习题</a></li>
          
            <li><a title="基础" href="15100478594807.html">基础</a></li>
          
            <li><a title="开发规范" href="15096850612612.html">开发规范</a></li>
          

      
        <li class="divider"></li>
        <li><label>linux</label></li>

          
            <li><a title="nginx.conf" href="15121311525125.html">nginx.conf</a></li>
          
            <li><a title="资源使用情况-top" href="15118629061448.html">资源使用情况-top</a></li>
          
            <li><a title="资源使用情况-内存" href="15118570754250.html">资源使用情况-内存</a></li>
          
            <li><a title="资源使用情况-硬盘" href="15118542040577.html">资源使用情况-硬盘</a></li>
          
            <li><a title="系统定时任务-cron" href="15097607422303.html">系统定时任务-cron</a></li>
          
            <li><a title="服务重启" href="15097602933518.html">服务重启</a></li>
          
            <li><a title="系统定时任务-at" href="15097593737810.html">系统定时任务-at</a></li>
          
            <li><a title="linux 查看服务器系统的信息" href="15097189513675.html">linux 查看服务器系统的信息</a></li>
          
            <li><a title="常用命令" href="15097187372089.html">常用命令</a></li>
          

      
        <li class="divider"></li>
        <li><label>git</label></li>

          
            <li><a title="应用-创建分支，提交远程分支，关联远程分支" href="15133066291353.html">应用-创建分支，提交远程分支，关联远程分支</a></li>
          
            <li><a title="学习-标准语法" href="15125443308129.html">学习-标准语法</a></li>
          
            <li><a title="应用-远程仓库" href="15125422035221.html">应用-远程仓库</a></li>
          
            <li><a title="应用-提交代码规范" href="15097964202481.html">应用-提交代码规范</a></li>
          
            <li><a title="文档-git命令大全(图)" href="15097175223406.html">文档-git命令大全(图)</a></li>
          
            <li><a title="笔记-git 常用命令" href="15097169426182.html">笔记-git 常用命令</a></li>
          

      
        <li class="divider"></li>
        <li><label>算法</label></li>

          
            <li><a title="排序-说明" href="15098667005910.html">排序-说明</a></li>
          
            <li><a title="排序-归并排序" href="15098651418800.html">排序-归并排序</a></li>
          
            <li><a title="排序-插入排序-希尔排序（面试热点）" href="15097185400207.html">排序-插入排序-希尔排序（面试热点）</a></li>
          
            <li><a title="排序-选择排序" href="15097183591874.html">排序-选择排序</a></li>
          
            <li><a title="排序-插入排序-直接插入排序（面试热点）" href="15097183328300.html">排序-插入排序-直接插入排序（面试热点）</a></li>
          
            <li><a title="排序-快速排序（面试热点）" href="15097181541647.html">排序-快速排序（面试热点）</a></li>
          
            <li><a title="排序-冒泡(基础)" href="15097179853305.html">排序-冒泡(基础)</a></li>
          

      
        <li class="divider"></li>
        <li><label>数据结构</label></li>

          
            <li><a title="数据结构-笔记1" href="15106207591946.html">数据结构-笔记1</a></li>
          
            <li><a title="树-AVL" href="15105532782166.html">树-AVL</a></li>
          
            <li><a title="树-哈夫曼树" href="15105529119460.html">树-哈夫曼树</a></li>
          
            <li><a title="树-红黑树（Red Black Tree）" href="15102209229230.html">树-红黑树（Red Black Tree）</a></li>
          
            <li><a title="树-二叉查找树（BST）" href="15102205459934.html">树-二叉查找树（BST）</a></li>
          
            <li><a title="hash" href="15098725685121.html">hash</a></li>
          
            <li><a title="树" href="15098688823158.html">树</a></li>
          

      
        <li class="divider"></li>
        <li><label>requireJs</label></li>

          
            <li><a title="require.js的用法" href="15108979537106.html">require.js的用法</a></li>
          
            <li><a title="模块的写法" href="15108974950383.html">模块的写法</a></li>
          
            <li><a title="AMD规范" href="15108970996774.html">AMD规范</a></li>
          
            <li><a title="工作问题" href="15108959214594.html">工作问题</a></li>
          

      
        <li class="divider"></li>
        <li><label>vagrant</label></li>

          
            <li><a title="vagrant 入门" href="15107599286648.html">vagrant 入门</a></li>
          

      
        <li class="divider"></li>
        <li><label>金融云解决方案</label></li>

          
            <li><a title="定义-文件上传" href="15131342505453.html">定义-文件上传</a></li>
          
            <li><a title="文档-技术雷达" href="15130740101017.html">文档-技术雷达</a></li>
          
            <li><a title="文档-数据库  laravel框架调整" href="15130733376968.html">文档-数据库  laravel框架调整</a></li>
          
            <li><a title="文档-数据库  分表（基因法）" href="15130732018072.html">文档-数据库  分表（基因法）</a></li>
          
            <li><a title="文档-数据库  join用法" href="15130731701406.html">文档-数据库  join用法</a></li>
          
            <li><a title="文档-数据库  开发规范" href="15130727864990.html">文档-数据库  开发规范</a></li>
          
            <li><a title="文档-相关地址" href="15130705682874.html">文档-相关地址</a></li>
          
            <li><a title="文档-发布流水线" href="15129654238836.html">文档-发布流水线</a></li>
          
            <li><a title="temp-代码库" href="15127210206519.html">temp-代码库</a></li>
          
            <li><a title="文档-定时任务(遗留问题)" href="15126405372479.html">文档-定时任务(遗留问题)</a></li>
          
            <li><a title="文档-金融云联调环境" href="15126387343546.html">文档-金融云联调环境</a></li>
          
            <li><a title="前台-登录机制" href="15123705894263.html">前台-登录机制</a></li>
          
            <li><a title="架构对接-加解密" href="15120970848867.html">架构对接-加解密</a></li>
          
            <li><a title="架构-事物处理" href="15117480558536.html">架构-事物处理</a></li>
          
            <li><a title="架构-数据加密" href="15117479737763.html">架构-数据加密</a></li>
          
            <li><a title="文档-api参数验证规则（laravel参数校验）" href="15114920928630.html">文档-api参数验证规则（laravel参数校验）</a></li>
          
            <li><a title="前台-文档-前台页面参数规则（参数校验）" href="15114894530000.html">前台-文档-前台页面参数规则（参数校验）</a></li>
          
            <li><a title="架构-关联查询" href="15105653922360.html">架构-关联查询</a></li>
          
            <li><a title="架构-架构流程图" href="15102836287298.html">架构-架构流程图</a></li>
          
            <li><a title="架构-问题与解决方案" href="15102820788307.html">架构-问题与解决方案</a></li>
          
            <li><a title="定义-异常处理" href="15099481239896.html">定义-异常处理</a></li>
          
            <li><a title="文档-单元测试" href="15097993606121.html">文档-单元测试</a></li>
          
            <li><a title="定义-开发流程" href="15097069077658.html">定义-开发流程</a></li>
          
            <li><a title="文档-契约测试" href="15097068761270.html">文档-契约测试</a></li>
          
            <li><a title="定义-返回码" href="15097062709914.html">定义-返回码</a></li>
          
            <li><a title="定义-日志 （1）" href="15097048723727.html">定义-日志 （1）</a></li>
          
            <li><a title="定义-代码规范" href="15097030429159.html">定义-代码规范</a></li>
          
            <li><a title="定义-日志（2）" href="15097028101727.html">定义-日志（2）</a></li>
          
            <li><a title="文档-初始化项目流程" href="15097024555685.html">文档-初始化项目流程</a></li>
          
            <li><a title="定义-返回值格式" href="15097018044485.html">定义-返回值格式</a></li>
          
            <li><a title="定义-请求参数处理" href="15097016017686.html">定义-请求参数处理</a></li>
          
            <li><a title="定义-git提交代码规范" href="15097013558689.html">定义-git提交代码规范</a></li>
          
            <li><a title="文档-接口调用流程" href="15097007112817.html">文档-接口调用流程</a></li>
          
            <li><a title="定义-中心返回错误到p2p" href="15096995487331.html">定义-中心返回错误到p2p</a></li>
          
            <li><a title="定义-接口个数（未解决）" href="15096947595600.html">定义-接口个数（未解决）</a></li>
          
            <li><a title="定义-分页" href="15096937437171.html">定义-分页</a></li>
          

      
        <li class="divider"></li>
        <li><label>springboot-实战</label></li>

          
            <li><a title="实战--请求参数的校验" href="15153099746529.html">实战--请求参数的校验</a></li>
          
            <li><a title="实战--参数类的封装（用到的注解）" href="15153060497346.html">实战--参数类的封装（用到的注解）</a></li>
          
            <li><a title="实战--代码读取配置文件" href="15152498896435.html">实战--代码读取配置文件</a></li>
          
            <li><a title="实战--application.yml配置" href="15152489636520.html">实战--application.yml配置</a></li>
          
            <li><a title="实战--aop切面编程" href="15152275531791.html">实战--aop切面编程</a></li>
          
            <li><a title="实战--热部署（热加载）" href="15152265532298.html">实战--热部署（热加载）</a></li>
          
            <li><a title="实战--整合mybatis （分页）" href="15152264815650.html">实战--整合mybatis （分页）</a></li>
          
            <li><a title="实战--日志" href="15152256498572.html">实战--日志</a></li>
          
            <li><a title="实战--统一异常处理" href="15152246712798.html">实战--统一异常处理</a></li>
          
            <li><a title="实战--返回json" href="15152240940735.html">实战--返回json</a></li>
          

      
      </ul>
    </aside>

<a class="exit-off-canvas" href="#"></a>

        <section id="main-content" role="main" class="scroll-container">

          <div class="row">
            <div class="large-3 medium-3 columns">
              <div class="hide-for-small">
                <div class="sidebar">
                <nav>
                  <ul id="side-nav" class="side-nav">

                    
                      <li class="side-title"><span>php</span></li>
                        
                          <li><a title="配置文件" href="15138234730339.html">配置文件</a></li>
                        
                          <li><a title="php 与 nginx" href="15128085452995.html">php 与 nginx</a></li>
                        
                          <li><a title="php7类型声明" href="15106716576449.html">php7类型声明</a></li>
                        
                          <li><a title="php7-use批量声明" href="15106714388264.html">php7-use批量声明</a></li>
                        
                          <li><a title="php7-新操作符<=>" href="15106713271560.html">php7-新操作符<=></a></li>
                        
                          <li><a title="php7-??" href="15106708822268.html">php7-??</a></li>
                        
                          <li><a title="php7-统一变量语法" href="15106705768192.html">php7-统一变量语法</a></li>
                        
                          <li><a title="php7-throwable" href="15106686521637.html">php7-throwable</a></li>
                        
                          <li><a title="练习题" href="15100534066184.html">练习题</a></li>
                        
                          <li><a title="基础" href="15100478594807.html">基础</a></li>
                        
                          <li><a title="开发规范" href="15096850612612.html">开发规范</a></li>
                        

                    
                      <li class="side-title"><span>linux</span></li>
                        
                          <li><a title="nginx.conf" href="15121311525125.html">nginx.conf</a></li>
                        
                          <li><a title="资源使用情况-top" href="15118629061448.html">资源使用情况-top</a></li>
                        
                          <li><a title="资源使用情况-内存" href="15118570754250.html">资源使用情况-内存</a></li>
                        
                          <li><a title="资源使用情况-硬盘" href="15118542040577.html">资源使用情况-硬盘</a></li>
                        
                          <li><a title="系统定时任务-cron" href="15097607422303.html">系统定时任务-cron</a></li>
                        
                          <li><a title="服务重启" href="15097602933518.html">服务重启</a></li>
                        
                          <li><a title="系统定时任务-at" href="15097593737810.html">系统定时任务-at</a></li>
                        
                          <li><a title="linux 查看服务器系统的信息" href="15097189513675.html">linux 查看服务器系统的信息</a></li>
                        
                          <li><a title="常用命令" href="15097187372089.html">常用命令</a></li>
                        

                    
                      <li class="side-title"><span>git</span></li>
                        
                          <li><a title="应用-创建分支，提交远程分支，关联远程分支" href="15133066291353.html">应用-创建分支，提交远程分支，关联远程分支</a></li>
                        
                          <li><a title="学习-标准语法" href="15125443308129.html">学习-标准语法</a></li>
                        
                          <li><a title="应用-远程仓库" href="15125422035221.html">应用-远程仓库</a></li>
                        
                          <li><a title="应用-提交代码规范" href="15097964202481.html">应用-提交代码规范</a></li>
                        
                          <li><a title="文档-git命令大全(图)" href="15097175223406.html">文档-git命令大全(图)</a></li>
                        
                          <li><a title="笔记-git 常用命令" href="15097169426182.html">笔记-git 常用命令</a></li>
                        

                    
                      <li class="side-title"><span>算法</span></li>
                        
                          <li><a title="排序-说明" href="15098667005910.html">排序-说明</a></li>
                        
                          <li><a title="排序-归并排序" href="15098651418800.html">排序-归并排序</a></li>
                        
                          <li><a title="排序-插入排序-希尔排序（面试热点）" href="15097185400207.html">排序-插入排序-希尔排序（面试热点）</a></li>
                        
                          <li><a title="排序-选择排序" href="15097183591874.html">排序-选择排序</a></li>
                        
                          <li><a title="排序-插入排序-直接插入排序（面试热点）" href="15097183328300.html">排序-插入排序-直接插入排序（面试热点）</a></li>
                        
                          <li><a title="排序-快速排序（面试热点）" href="15097181541647.html">排序-快速排序（面试热点）</a></li>
                        
                          <li><a title="排序-冒泡(基础)" href="15097179853305.html">排序-冒泡(基础)</a></li>
                        

                    
                      <li class="side-title"><span>数据结构</span></li>
                        
                          <li><a title="数据结构-笔记1" href="15106207591946.html">数据结构-笔记1</a></li>
                        
                          <li><a title="树-AVL" href="15105532782166.html">树-AVL</a></li>
                        
                          <li><a title="树-哈夫曼树" href="15105529119460.html">树-哈夫曼树</a></li>
                        
                          <li><a title="树-红黑树（Red Black Tree）" href="15102209229230.html">树-红黑树（Red Black Tree）</a></li>
                        
                          <li><a title="树-二叉查找树（BST）" href="15102205459934.html">树-二叉查找树（BST）</a></li>
                        
                          <li><a title="hash" href="15098725685121.html">hash</a></li>
                        
                          <li><a title="树" href="15098688823158.html">树</a></li>
                        

                    
                      <li class="side-title"><span>requireJs</span></li>
                        
                          <li><a title="require.js的用法" href="15108979537106.html">require.js的用法</a></li>
                        
                          <li><a title="模块的写法" href="15108974950383.html">模块的写法</a></li>
                        
                          <li><a title="AMD规范" href="15108970996774.html">AMD规范</a></li>
                        
                          <li><a title="工作问题" href="15108959214594.html">工作问题</a></li>
                        

                    
                      <li class="side-title"><span>vagrant</span></li>
                        
                          <li><a title="vagrant 入门" href="15107599286648.html">vagrant 入门</a></li>
                        

                    
                      <li class="side-title"><span>金融云解决方案</span></li>
                        
                          <li><a title="定义-文件上传" href="15131342505453.html">定义-文件上传</a></li>
                        
                          <li><a title="文档-技术雷达" href="15130740101017.html">文档-技术雷达</a></li>
                        
                          <li><a title="文档-数据库  laravel框架调整" href="15130733376968.html">文档-数据库  laravel框架调整</a></li>
                        
                          <li><a title="文档-数据库  分表（基因法）" href="15130732018072.html">文档-数据库  分表（基因法）</a></li>
                        
                          <li><a title="文档-数据库  join用法" href="15130731701406.html">文档-数据库  join用法</a></li>
                        
                          <li><a title="文档-数据库  开发规范" href="15130727864990.html">文档-数据库  开发规范</a></li>
                        
                          <li><a title="文档-相关地址" href="15130705682874.html">文档-相关地址</a></li>
                        
                          <li><a title="文档-发布流水线" href="15129654238836.html">文档-发布流水线</a></li>
                        
                          <li><a title="temp-代码库" href="15127210206519.html">temp-代码库</a></li>
                        
                          <li><a title="文档-定时任务(遗留问题)" href="15126405372479.html">文档-定时任务(遗留问题)</a></li>
                        
                          <li><a title="文档-金融云联调环境" href="15126387343546.html">文档-金融云联调环境</a></li>
                        
                          <li><a title="前台-登录机制" href="15123705894263.html">前台-登录机制</a></li>
                        
                          <li><a title="架构对接-加解密" href="15120970848867.html">架构对接-加解密</a></li>
                        
                          <li><a title="架构-事物处理" href="15117480558536.html">架构-事物处理</a></li>
                        
                          <li><a title="架构-数据加密" href="15117479737763.html">架构-数据加密</a></li>
                        
                          <li><a title="文档-api参数验证规则（laravel参数校验）" href="15114920928630.html">文档-api参数验证规则（laravel参数校验）</a></li>
                        
                          <li><a title="前台-文档-前台页面参数规则（参数校验）" href="15114894530000.html">前台-文档-前台页面参数规则（参数校验）</a></li>
                        
                          <li><a title="架构-关联查询" href="15105653922360.html">架构-关联查询</a></li>
                        
                          <li><a title="架构-架构流程图" href="15102836287298.html">架构-架构流程图</a></li>
                        
                          <li><a title="架构-问题与解决方案" href="15102820788307.html">架构-问题与解决方案</a></li>
                        
                          <li><a title="定义-异常处理" href="15099481239896.html">定义-异常处理</a></li>
                        
                          <li><a title="文档-单元测试" href="15097993606121.html">文档-单元测试</a></li>
                        
                          <li><a title="定义-开发流程" href="15097069077658.html">定义-开发流程</a></li>
                        
                          <li><a title="文档-契约测试" href="15097068761270.html">文档-契约测试</a></li>
                        
                          <li><a title="定义-返回码" href="15097062709914.html">定义-返回码</a></li>
                        
                          <li><a title="定义-日志 （1）" href="15097048723727.html">定义-日志 （1）</a></li>
                        
                          <li><a title="定义-代码规范" href="15097030429159.html">定义-代码规范</a></li>
                        
                          <li><a title="定义-日志（2）" href="15097028101727.html">定义-日志（2）</a></li>
                        
                          <li><a title="文档-初始化项目流程" href="15097024555685.html">文档-初始化项目流程</a></li>
                        
                          <li><a title="定义-返回值格式" href="15097018044485.html">定义-返回值格式</a></li>
                        
                          <li><a title="定义-请求参数处理" href="15097016017686.html">定义-请求参数处理</a></li>
                        
                          <li><a title="定义-git提交代码规范" href="15097013558689.html">定义-git提交代码规范</a></li>
                        
                          <li><a title="文档-接口调用流程" href="15097007112817.html">文档-接口调用流程</a></li>
                        
                          <li><a title="定义-中心返回错误到p2p" href="15096995487331.html">定义-中心返回错误到p2p</a></li>
                        
                          <li><a title="定义-接口个数（未解决）" href="15096947595600.html">定义-接口个数（未解决）</a></li>
                        
                          <li><a title="定义-分页" href="15096937437171.html">定义-分页</a></li>
                        

                    
                      <li class="side-title"><span>springboot-实战</span></li>
                        
                          <li><a title="实战--请求参数的校验" href="15153099746529.html">实战--请求参数的校验</a></li>
                        
                          <li><a title="实战--参数类的封装（用到的注解）" href="15153060497346.html">实战--参数类的封装（用到的注解）</a></li>
                        
                          <li><a title="实战--代码读取配置文件" href="15152498896435.html">实战--代码读取配置文件</a></li>
                        
                          <li><a title="实战--application.yml配置" href="15152489636520.html">实战--application.yml配置</a></li>
                        
                          <li><a title="实战--aop切面编程" href="15152275531791.html">实战--aop切面编程</a></li>
                        
                          <li><a title="实战--热部署（热加载）" href="15152265532298.html">实战--热部署（热加载）</a></li>
                        
                          <li><a title="实战--整合mybatis （分页）" href="15152264815650.html">实战--整合mybatis （分页）</a></li>
                        
                          <li><a title="实战--日志" href="15152256498572.html">实战--日志</a></li>
                        
                          <li><a title="实战--统一异常处理" href="15152246712798.html">实战--统一异常处理</a></li>
                        
                          <li><a title="实战--返回json" href="15152240940735.html">实战--返回json</a></li>
                        

                    
                  </ul>
                </nav>
                </div>
              </div>
            </div>
            <div class="large-9 medium-9 columns">

 <div class="markdown-body">
<h1>require.js的用法</h1>

<p><a href="http://www.ruanyifeng.com/blog/2012/11/require_js.html">原文地址</a></p>

<h3 id="toc_0">一、为什么要用require.js？</h3>

<p>最早的时候，所有Javascript代码都写在一个文件里面，只要加载这一个文件就够了。后来，代码越来越多，一个文件不够了，必须分成多个文件，依次加载。下面的网页代码，相信很多人都见过。</p>

<pre><code>　　&lt;script src=&quot;1.js&quot;&gt;&lt;/script&gt;
　　&lt;script src=&quot;2.js&quot;&gt;&lt;/script&gt;
　　&lt;script src=&quot;3.js&quot;&gt;&lt;/script&gt;
　　&lt;script src=&quot;4.js&quot;&gt;&lt;/script&gt;
　　&lt;script src=&quot;5.js&quot;&gt;&lt;/script&gt;
　　&lt;script src=&quot;6.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>　　<br/>
这段代码依次加载多个js文件。<br/>
这样的写法有很大的缺点。首先，加载的时候，浏览器会停止网页渲染，加载文件越多，网页失去响应的时间就会越长；其次，由于js文件之间存在依赖关系，因此必须严格保证加载顺序（比如上例的1.js要在2.js的前面），依赖性最大的模块一定要放到最后加载，当依赖关系很复杂的时候，代码的编写和维护都会变得困难。</p>

<p>require.js的诞生，就是为了解决这两个问题：</p>

<pre><code>   1 实现js文件的异步加载，避免网页失去响应；
   2 管理模块之间的依赖性，便于代码的编写和维护。
</code></pre>

<h3 id="toc_1">二、require.js的加载</h3>

<p>使用require.js的第一步，是先去官方网站下载最新版本。<br/>
下载后，假定把它放在js子目录下面，就可以加载了。</p>

<pre><code>&lt;script src=&quot;js/require.js&quot;&gt;&lt;/script&gt;
</code></pre>

<p>有人可能会想到，加载这个文件，也可能造成网页失去响应。解决办法有两个，一个是把它放在网页底部加载，另一个是写成下面这样：</p>

<pre><code>　　&lt;script src=&quot;js/require.js&quot; defer async=&quot;true&quot; &gt;&lt;/script&gt;
</code></pre>

<p>async属性表明这个文件需要异步加载，避免网页失去响应。IE不支持这个属性，只支持defer，所以把defer也写上。<br/>
加载require.js以后，下一步就要加载我们自己的代码了。假定我们自己的代码文件是main.js，也放在js目录下面。那么，只需要写成下面这样就行了：</p>

<pre><code>　　&lt;script src=&quot;js/require.js&quot; data-main=&quot;js/main&quot;&gt;&lt;/script&gt;
　　
</code></pre>

<p>data-main属性的作用是，指定网页程序的主模块。在上例中，就是js目录下面的main.js，这个文件会第一个被require.js加载。由于require.js默认的文件后缀名是js，所以可以把main.js简写成main。</p>

<h3 id="toc_2">三、主模块的写法</h3>

<p>上一节的main.js，我把它称为&quot;主模块&quot;，意思是整个网页的入口代码。它有点像C语言的main()函数，所有代码都从这儿开始运行。<br/>
下面就来看，怎么写main.js。<br/>
如果我们的代码不依赖任何其他模块，那么可以直接写入javascript代码。</p>

<pre><code>　　// main.js
　　alert(&quot;加载成功！&quot;);
```　
　
但这样的话，就没必要使用require.js了。真正常见的情况是，主模块依赖于其他模块，这时就要使用AMD规范定义的的require()函数。

```　　
　　// main.js
　　require([&#39;moduleA&#39;, &#39;moduleB&#39;, &#39;moduleC&#39;], function (moduleA, moduleB, moduleC){
　　　　// some code here
　　});
　　
</code></pre>

<p>　　<br/>
require()函数接受两个参数。第一个参数是一个数组，表示所依赖的模块，上例就是[&#39;moduleA&#39;, &#39;moduleB&#39;, &#39;moduleC&#39;]，即主模块依赖这三个模块；第二个参数是一个回调函数，当前面指定的模块都加载成功后，它将被调用。加载的模块会以参数形式传入该函数，从而在回调函数内部就可以使用这些模块。<br/>
require()异步加载moduleA，moduleB和moduleC，浏览器不会失去响应；它指定的回调函数，只有前面的模块都加载成功后，才会运行，解决了依赖性的问题。<br/>
下面，我们看一个实际的例子。<br/>
假定主模块依赖jquery、underscore和backbone这三个模块，main.js就可以这样写：</p>

<pre><code>　　require([&#39;jquery&#39;, &#39;underscore&#39;, &#39;backbone&#39;], function ($, _, Backbone){
　　　　// some code here
　　});
　　
</code></pre>

<p>　　<br/>
require.js会先加载jQuery、underscore和backbone，然后再运行回调函数。主模块的代码就写在回调函数中。</p>

<h3 id="toc_3">四、模块的加载</h3>

<p>上一节最后的示例中，主模块的依赖模块是[&#39;jquery&#39;, &#39;underscore&#39;, &#39;backbone&#39;]。默认情况下，require.js假定这三个模块与main.js在同一个目录，文件名分别为jquery.js，underscore.js和backbone.js，然后自动加载。<br/>
使用require.config()方法，我们可以对模块的加载行为进行自定义。require.config()就写在主模块（main.js）的头部。参数就是一个对象，这个对象的paths属性指定各个模块的加载路径。</p>

<pre><code class="language-　">require.config({
　　　　paths: {
　　　　　　&quot;jquery&quot;: &quot;jquery.min&quot;,
　　　　　　&quot;underscore&quot;: &quot;underscore.min&quot;,
　　　　　　&quot;backbone&quot;: &quot;backbone.min&quot;
　　　　}
　　});
</code></pre>

<p>上面的代码给出了三个模块的文件名，路径默认与main.js在同一个目录（js子目录）。如果这些模块在其他目录，比如js/lib目录，则有两种写法。一种是逐一指定路径。</p>

<pre><code>　　require.config({
　　　　paths: {
　　　　　　&quot;jquery&quot;: &quot;lib/jquery.min&quot;,
　　　　　　&quot;underscore&quot;: &quot;lib/underscore.min&quot;,
　　　　　　&quot;backbone&quot;: &quot;lib/backbone.min&quot;
　　　　}
　　});
</code></pre>

<p>另一种则是直接改变基目录（baseUrl）。</p>

<pre><code>　　require.config({
　　　　baseUrl: &quot;js/lib&quot;,
　　　　paths: {
　　　　　　&quot;jquery&quot;: &quot;jquery.min&quot;,
　　　　　　&quot;underscore&quot;: &quot;underscore.min&quot;,
　　　　　　&quot;backbone&quot;: &quot;backbone.min&quot;
　　　　}
　　});
</code></pre>

<p>如果某个模块在另一台主机上，也可以直接指定它的网址，比如：</p>

<pre><code>　　require.config({
　　　　paths: {
　　　　　　&quot;jquery&quot;: &quot;https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min&quot;
　　　　}
　　});
</code></pre>

<p>require.js要求，每个模块是一个单独的js文件。这样的话，如果加载多个模块，就会发出多次HTTP请求，会影响网页的加载速度。因此，require.js提供了一个优化工具，当模块部署完毕以后，可以用这个工具将多个模块合并在一个文件中，减少HTTP请求数。</p>

<h3 id="toc_4">五、AMD模块的写法</h3>

<p>require.js加载的模块，采用AMD规范。也就是说，模块必须按照AMD的规定来写。<br/>
具体来说，就是模块必须采用特定的define()函数来定义。如果一个模块不依赖其他模块，那么可以直接定义在define()函数之中。<br/>
假定现在有一个math.js文件，它定义了一个math模块。那么，math.js就要这样写：</p>

<pre><code class="language-　">    // math.js
　　define(function (){
　　　　var add = function (x,y){
　　　　　　return x+y;
　　　　};
　　　　return {
　　　　　　add: add
　　　　};
　　});
</code></pre>

<p>加载方法如下：</p>

<pre><code>
　　// main.js
　　require([&#39;math&#39;], function (math){
　　　　alert(math.add(1,1));
　　});　
　　　
```　　

如果这个模块还依赖其他模块，那么define()函数的第一个参数，必须是一个数组，指明该模块的依赖性。


</code></pre>

<p>　　define([&#39;myLib&#39;], function(myLib){<br/>
　　　　function foo(){<br/>
　　　　　　myLib.doSomething();<br/>
　　　　}<br/>
　　　　return {<br/>
　　　　　　foo : foo<br/>
　　　　};<br/>
　　});<br/>
```　<br/>
　<br/>
当require()函数加载上面这个模块的时候，就会先加载myLib.js文件。</p>


</div>

<br /><br />
<hr />

<div class="row clearfix">
  <div class="large-6 columns">
	<div class="text-left" style="padding:15px 0px;">
		
	        <a href="15114894530000.html"  title="Previous Post: 前台-文档-前台页面参数规则（参数校验）">&laquo; 前台-文档-前台页面参数规则（参数校验）</a>
	    
	</div>
  </div>
  <div class="large-6 columns">
	<div class="text-right" style="padding:15px 0px;">
		
	        <a href="15108974950383.html" 
	        title="Next Post: 模块的写法">模块的写法 &raquo;</a>
	    
	</div>
  </div>
</div>

<div class="row">
<div style="padding:0px 0.93em;" class="share-comments">

</div>
</div>
<script type="text/javascript">
	$(function(){
		var currentURL = '15108979537106.html';
		$('#side-nav a').each(function(){
			if($(this).attr('href') == currentURL){
				$(this).parent().addClass('active');
			}
		});
	});
</script>  
</div></div>


<div class="page-bottom">
  <div class="row">
  <hr />
  <div class="small-9 columns">
  <p class="copyright">Copyright &copy; 2015
Powered by <a target="_blank" href="http://www.mweb.im">MWeb</a>,&nbsp; 
Theme used <a target="_blank" href="http://github.com">GitHub CSS</a>.</p>
  </div>
  <div class="small-3 columns">
  <p class="copyright text-right"><a href="#header">TOP</a></p>
  </div>
   
  </div>
</div>

        </section>
      </div>
    </div>
    
    
    <script src="asset/js/foundation.min.js"></script>
    <script src="asset/js/foundation/foundation.offcanvas.js"></script>
    <script>
      $(document).foundation();

     
    </script>
    <script src="asset/chart/all-min.js"></script><script type="text/javascript">$(function(){    var mwebii=0;    var mwebChartEleId = 'mweb-chart-ele-';    $('pre>code').each(function(){        mwebii++;        var eleiid = mwebChartEleId+mwebii;        if($(this).hasClass('language-sequence')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = Diagram.parse($(this).text());            diagram.drawSVG(eleiid,{theme: 'simple'});        }else if($(this).hasClass('language-flow')){            var ele = $(this).addClass('nohighlight').parent();            $('<div id="'+eleiid+'"></div>').insertAfter(ele);            ele.hide();            var diagram = flowchart.parse($(this).text());            diagram.drawSVG(eleiid);        }    });});</script>
<script type="text/javascript" src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({TeX: { equationNumbers: { autoNumber: "AMS" } }});</script>

  </body>
</html>
